<html>
<head>
	<style type="text/css"> 
body{margin:100;padding:100;width:800px; margin:auto;text-align: "center";background-color: grey}/*background-image: url("lock.jpg")}*/
center{
	
	color: white;
}

</style> 
</head>

<script>

function encrypt(key,text){
alph = ['Q','W','E','R','T','Y','U','I','O','P','A','S','D','F','G','H','J','K','L','Z','X','C','V','B','N','M','!','@','#','$','%','^','&','*','(',')','_','+','1','2','3','4','5','6','7','8','9',"0",'-','=',"q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m",",",".","/","?"," "]
	//     0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28  29   30  31
	
alph2 = ["`","~","<",">","|","/","\'","\"","\\","\[","\{","\}","\]",";",":"]

alph = alph.concat(alph2)
	
//key = prompt("key")
ikey = key
//text = prompt("text for encryption")

while(key.length < text.length){
	key = key + ikey
}

otext = ""
function getPos(letter){
	for(i = 0;i <= alph.length; i++){
		if(i == alph.length)alert("invalid character in text")
		if(alph[i] == letter)return i
	}
}
kplace = -1
for(c = 0; c <= text.length-1; c++){
	kplace++
	klet = key[kplace]
	kpos = getPos(klet)
	tpos = getPos(text[c])
	
	nlpos = kpos+tpos
	if(nlpos > alph.length-1)nlpos -= alph.length
	
	otext = otext + alph[nlpos]
}
return otext

}

function decrypt(key,etext){
alph = ['Q','W','E','R','T','Y','U','I','O','P','A','S','D','F','G','H','J','K','L','Z','X','C','V','B','N','M','!','@','#','$','%','^','&','*','(',')','_','+','1','2','3','4','5','6','7','8','9',"0",'-','=',"q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m",",",".","/","?"," "]
	//   0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28   29   30  31  

alph2 = ["`","~","<",">","|","/","\'","\"","\\","\[","\{","\}","\]",";",":"]

alph = alph.concat(alph2)
	
//	key = prompt("key")
ikey = key
//etext = prompt("text for unencryption")

while(key.length < etext.length){
	key = key + ikey
}

otext = ""

function getPos(letter){
	for(i = 0;i <= alph.length; i++){
		if(i == alph.length)alert("invalid character in text")
		if(alph[i] == letter)return i
	}
}
kpos = -1
for(c = 0;c <= etext.length-1; c++){
	kpos++
	ktext = getPos(key[kpos])
	olet = getPos(etext[c]) - ktext
	if(olet<0)olet+=alph.length
	otext = otext + alph[olet]
}
return otext
}

function encryptPressed(){
	key = document.getElementById("key").value
	textToEncrypt = document.getElementById(encode ?"toEncrypt":"toDecrypt").value
	document.getElementById(encode ?"output":"output2").innerHTML = encode ? encrypt(key,textToEncrypt):decrypt(key,textToEncrypt)

	encode = true
}

var encode = true
</script>

<body bakground = url("lock.jpg")>
	<center>
		<h1>Key/Password here</h1>
		<input id = "key"></input>
		<h1>Text to encrypt hear:</h1><input id = "toEncrypt"></input><div id = "output"></div>
		<button class = "button" onclick = "encryptPressed()">Click to Encrypt Text</button>


		<h1>Text to decrypt hear (uses above key to decrypt):</h1>
		<input id = "toDecrypt"></input>
		<div id = "output2"></div>

		<button class = "button" onclick = "encode = false;encryptPressed()">Click to Decrypt Text</button>
	</center>
</body>


</html>