<html>
<script>

function encrypt(key,text){
alph = ['Q','W','E','R','T','Y','U','I','O','P','A','S','D','F','G','H','J','K','L','Z','X','C','V','B','N','M','!','@','#','$','%','^','&','*','(',')','_','+','1','2','3','4','5','6','7','8','9',"0",'-','=',"q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m",",",".","/","?"," "]
	//     0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28  29   30  31
	
alph2 = ["`","~","<",">","|","/","\'","\"","\\","\[","\{","\}","\]",";",":"]

alph = alph.concat(alph2)
	
//key = prompt("key")
ikey = key
//text = prompt("text for encryption")

while(key.length < text.length){
	key = key + ikey
}

otext = ""
function getPos(letter){
	for(i = 0;i <= alph.length; i++){
		if(i == alph.length)alert("invalid character in text")
		if(alph[i] == letter)return i
	}
}
kplace = -1
for(c = 0; c <= text.length-1; c++){
	kplace++
	klet = key[kplace]
	kpos = getPos(klet)
	tpos = getPos(text[c])
	
	nlpos = kpos+tpos
	if(nlpos > alph.length-1)nlpos -= alph.length
	
	otext = otext + alph[nlpos]
}
return otext

}
</script>

</html>